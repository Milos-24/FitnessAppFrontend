<div class="container mt-5">
  <div class="row">
      <div class="col-md-4">
          <div class="list-group">
              <button class="list-group-item list-group-item-action" *ngFor="let user of users" (click)="selectUser(user)">
                  {{ user.name }}
              </button>
          </div>
      </div>
      <div class="col-md-8">
          <div class="card">
              <div class="card-header">
                  {{ selectedUser ? 'Messages from ' + selectedUser.name : 'Select a user' }}
              </div>
              <div class="card-body" *ngIf="selectedUser">
                  <ul class="list-group">
                      <li class="list-group-item" *ngFor="let message of selectedUser.messages">
                          <div *ngIf="message.sender === selectedUser.name" >
                              {{ message.content }}
                          </div>
                          <div *ngIf="message.sender !== selectedUser.name" class="d-flex justify-content-end">
                              {{ message.content }}
                          </div>
                      </li>
                      <li class="list-group-item">
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="Type your response here" #responseInput [(ngModel)]="response">
                            <div class="input-group-append">
                                <button class="btn btn-primary" type="button" (click)="sendMessage(selectedUser.name, responseInput.value)">Send</button>
                            </div>
                        </div>
                    </li>                    
                  </ul>
              </div>
          </div>
      </div>
  </div>
</div>
